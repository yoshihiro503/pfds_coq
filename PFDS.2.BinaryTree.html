<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PFDS.2.BinaryTree</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle"><img width=50px src=https://images-na.ssl-images-amazon.com/images/I/41XlPaC%2BZqL._SX326_BO1,204,203,200_.jpg /> PFDS.2.BinaryTree</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Setoids.Setoid.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">Setoid</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PFDS.common.DecidableOrder.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">PFDS.common.DecidableOrder</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="UnbalancedSet"><span class="id" title="module">UnbalancedSet</span></a> (<span class="id" title="var">ElementSeed</span> : <a class="idref" href="PFDS.common.DecidableOrder.html#Seed"><span class="id" title="module">DecidableOrder.Seed</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">2.2 二分探索木</h1>

   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="UnbalancedSet.Element"><span class="id" title="module">Element</span></a> := <a class="idref" href="PFDS.common.DecidableOrder.html#Make"><span class="id" title="module">DecidableOrder.Make</span></a>(<a class="idref" href="PFDS.2.BinaryTree.html#ElementSeed"><span class="id" title="module">ElementSeed</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="UnbalancedSet.Elem"><span class="id" title="definition">Elem</span></a> := <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="axiom">Element.T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Element.Op</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="UnbalancedSet.Tree"><span class="id" title="inductive">Tree</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.E"><span class="id" title="constructor">E</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#Tree"><span class="id" title="inductive">Tree</span></a><br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.T"><span class="id" title="constructor">T</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#Tree"><span class="id" title="inductive">Tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Elem"><span class="id" title="definition">Elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Tree"><span class="id" title="inductive">Tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Tree"><span class="id" title="inductive">Tree</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Elem"><span class="id" title="definition">Elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Tree"><span class="id" title="inductive">Tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.TreeForallE"><span class="id" title="constructor">TreeForallE</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#TreeForall"><span class="id" title="inductive">TreeForall</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.TreeForallT"><span class="id" title="constructor">TreeForallT</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <span class="id" title="var">P</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#TreeForall"><span class="id" title="inductive">TreeForall</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#TreeForall"><span class="id" title="inductive">TreeForall</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#TreeForall"><span class="id" title="inductive">TreeForall</span></a> <span class="id" title="var">P</span> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="UnbalancedSet.TreeForall_impl"><span class="id" title="lemma">TreeForall_impl</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">P</span> <span class="id" title="var">Q</span>: <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Elem"><span class="id" title="definition">Elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="PFDS.2.BinaryTree.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t</span>, <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
     二分木の要素が対象順(symmetric order)で格納されているということを示す<span class="inlinecode"><span class="id" title="keyword">Prop</span></span>。
     「対象順とは任意の与えられたノードの要素が、その左側の部分木の中のどの要素よりも大きく、
     右側の部分木のどの要素よりも小さい、という意味である」
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="UnbalancedSet.Ordered"><span class="id" title="inductive">Ordered</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Tree"><span class="id" title="inductive">Tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.OrderedE"><span class="id" title="constructor">OrderedE</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.OrderedT"><span class="id" title="constructor">OrderedT</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="PFDS.2.BinaryTree.html#Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x1</span> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#db24593efd516477ddcf1c3df9d7254e"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a>(<span class="id" title="keyword">fun</span> <span class="id" title="var">x2</span> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#db24593efd516477ddcf1c3df9d7254e"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x2"><span class="id" title="variable">x2</span></a>) <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Ordered"><span class="id" title="inductive">Ordered</span></a> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a>).<br/>

<br/>
</div>

<div class="doc">
     二分木に要素が含まれていることを示す<span class="inlinecode"><span class="id" title="keyword">Prop</span></span>。
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Elem"><span class="id" title="definition">Elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Tree"><span class="id" title="inductive">Tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.MemberRoot"><span class="id" title="constructor">MemberRoot</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="PFDS.2.BinaryTree.html#Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.MemberBranchLeft"><span class="id" title="constructor">MemberBranchLeft</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="PFDS.2.BinaryTree.html#Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.MemberBranchRight"><span class="id" title="constructor">MemberBranchRight</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="PFDS.2.BinaryTree.html#Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="UnbalancedSet.Member_Forall"><span class="id" title="lemma">Member_Forall</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">HMem</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">HMem</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HForall</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHMem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HForall</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHMem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
     <span class="inlinecode"><span class="id" title="var">member</span></span>の実装
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="UnbalancedSet.member"><span class="id" title="definition">member</span></a> <span class="id" title="var">x</span> <span class="id" title="var">tree</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="PFDS.2.BinaryTree.html#member"><span class="id" title="definition">member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.DecidableOrder.html#3abbfec8b7d6f1b92cd783ec92815d43"><span class="id" title="notation">&gt;?</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="PFDS.2.BinaryTree.html#member"><span class="id" title="definition">member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="UnbalancedSet.member_sound"><span class="id" title="lemma">member_sound</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">tree</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member"><span class="id" title="definition">member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">tree</span> <span class="id" title="var">HOrdered</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">HOrdered</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">x</span> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">HLeft</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHOrdered1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HLeft</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.MemberBranchLeft"><span class="id" title="constructor">MemberBranchLeft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">x0</span> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">HRight</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHOrdered2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HRight</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.MemberBranchRight"><span class="id" title="constructor">MemberBranchRight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="var">cutrewrite</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>); [<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
     <span class="inlinecode"><span class="id" title="var">insert</span></span>の実装
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="UnbalancedSet.insert"><span class="id" title="definition">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">tree</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> <span class="id" title="var">s</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> (<a class="idref" href="PFDS.2.BinaryTree.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">y</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.DecidableOrder.html#3abbfec8b7d6f1b92cd783ec92815d43"><span class="id" title="notation">&gt;?</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> (<a class="idref" href="PFDS.2.BinaryTree.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab2"></a><h2 class="section">演習問題 2.2 (p. 22)</h2>


<div class="paragraph"> </div>

      member関数を改良して、<span class="inlinecode"><span class="id" title="var">lt</span></span>の回数が木の深さ<span class="inlinecode"><span class="id" title="var">d</span></span>に対して<span class="inlinecode"><span class="id" title="var">d</span>+1</span>回になるようにせよ。
   
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab3"></a><h3 class="section">関数の実装</h3>


<div class="paragraph"> </div>

       <span class="inlinecode"><span class="id" title="var">member2</span></span>という名前で実装する。
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="UnbalancedSet.member2_aux"><span class="id" title="definition">member2_aux</span></a> <span class="id" title="var">x</span> <span class="id" title="var">tree</span> <span class="id" title="var">candidate</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#candidate"><span class="id" title="variable">candidate</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.DecidableOrder.html#fcff5e72a218dead611a0511160f0bfa"><span class="id" title="notation">=?</span></a> <span class="id" title="var">c</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="PFDS.2.BinaryTree.html#member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">a</span> <a class="idref" href="PFDS.2.BinaryTree.html#candidate"><span class="id" title="variable">candidate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="PFDS.2.BinaryTree.html#member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="UnbalancedSet.member2"><span class="id" title="definition">member2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">tree</span> := <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab4"></a><h3 class="section">証明</h3>


<div class="paragraph"> </div>

       <span class="inlinecode"><span class="id" title="var">member2</span></span>が元の<span class="inlinecode"><span class="id" title="var">member</span></span>と同様の性質を満たしているかどうかを証明する。
       <span class="inlinecode"><span class="id" title="var">member2_aux</span></span>で第3引数にくる<span class="inlinecode"><span class="id" title="var">cand</span></span>が<span class="inlinecode"><span class="id" title="var">x</span></span>を超えないことを保ったままだんだん大きくなることを考慮して補題をたてる。
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="UnbalancedSet.member2_aux_sound"><span class="id" title="lemma">member2_aux_sound</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">cand</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#cand"><span class="id" title="variable">cand</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#cand"><span class="id" title="variable">cand</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span>[| <span class="id" title="var">a</span> <span class="id" title="var">IHa</span> <span class="id" title="var">y</span> <span class="id" title="var">b</span> <span class="id" title="var">IHb</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">cand</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cand</span>; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">x</span> <a class="idref" href="PFDS.common.DecidableOrder.html#fcff5e72a218dead611a0511160f0bfa"><span class="id" title="notation">=?</span></a> <span class="id" title="var">t</span>); [| <span class="id" title="tactic">discriminate</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">x</span> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HLeft</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHa</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HLeft</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HLeft</span>; [<span class="id" title="tactic">left</span>| <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HRight</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHb</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HRight</span>; <span class="id" title="tactic">left</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.MemberBranchRight"><span class="id" title="constructor">MemberBranchRight</span></a>| ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="UnbalancedSet.member_aux_complete_1"><span class="id" title="lemma">member_aux_complete_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#123bb60e4c698ac709abaf1b01451e1a"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="UnbalancedSet.member_aux_complete_2"><span class="id" title="lemma">member_aux_complete_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">cand</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#cand"><span class="id" title="variable">cand</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">cand</span> <span class="id" title="var">HOrdered</span> <span class="id" title="var">Hmem</span>. <span class="id" title="var">revert</span> <span class="id" title="var">cand</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hmem</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> | <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">cand</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">x</span> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxlt</span>|<span class="id" title="var">Hxlt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.lt_irrefl"><span class="id" title="lemma">Element.Ord.lt_irrefl</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member_aux_complete_1"><span class="id" title="axiom">member_aux_complete_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HOrdered</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">HOrdered</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall_impl"><span class="id" title="axiom">TreeForall_impl</span></a>; [|<span class="id" title="tactic">exact</span> <span class="id" title="var">H5</span>]. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.lt"><span class="id" title="definition">Element.Ord.lt</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HOrdered</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">x</span> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hltxy</span>|<span class="id" title="var">Hltxy</span>]; [<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHmem</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hltxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member_Forall"><span class="id" title="lemma">Member_Forall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x1</span> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#db24593efd516477ddcf1c3df9d7254e"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">x</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HOrdered</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">x</span> <a class="idref" href="PFDS.common.DecidableOrder.html#5313db93c887998f343ac11879ac6bc2"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hltxy</span>|<span class="id" title="var">Hltxy</span>]; [|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHmem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.lt_asymm"><span class="id" title="lemma">Element.Ord.lt_asymm</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hltxy</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member_Forall"><span class="id" title="lemma">Member_Forall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x2</span> ⇒ <span class="id" title="var">y</span> <a class="idref" href="PFDS.common.TotalOrder.html#db24593efd516477ddcf1c3df9d7254e"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x2"><span class="id" title="variable">x2</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="UnbalancedSet.member_aux_complete"><span class="id" title="lemma">member_aux_complete</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">cand</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.2.BinaryTree.html#cand"><span class="id" title="variable">cand</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.TreeForall"><span class="id" title="inductive">TreeForall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#123bb60e4c698ac709abaf1b01451e1a"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2_aux"><span class="id" title="definition">member2_aux</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#cand"><span class="id" title="variable">cand</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">cand</span> <span class="id" title="var">HOrdered</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member_aux_complete_2"><span class="id" title="lemma">member_aux_complete_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member_aux_complete_1"><span class="id" title="axiom">member_aux_complete_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
      <span class="inlinecode"><span class="id" title="var">member2</span></span>関数の結果が<span class="inlinecode"><span class="id" title="var">true</span></span>ならば性質<span class="inlinecode"><span class="id" title="var">Member</span></span>を満たす。
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="UnbalancedSet.member2_sound"><span class="id" title="lemma">member2_sound</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2"><span class="id" title="definition">member2</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2"><span class="id" title="definition">member2</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">Hmem</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2_aux_sound"><span class="id" title="lemma">member2_aux_sound</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmem</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
      性質<span class="inlinecode"><span class="id" title="var">Member</span></span>を満たすならば<span class="inlinecode"><span class="id" title="var">member2</span></span>関数の結果が<span class="inlinecode"><span class="id" title="var">true</span></span>となる。
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="UnbalancedSet.member2_complete"><span class="id" title="lemma">member2_complete</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Ordered"><span class="id" title="inductive">Ordered</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Member"><span class="id" title="inductive">Member</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2"><span class="id" title="definition">member2</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">HOrdered</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member2"><span class="id" title="definition">member2</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.member_aux_complete"><span class="id" title="lemma">member_aux_complete</span></a>; [| <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab5"></a><h2 class="section">演習問題 2.5</h2>

   
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab6"></a><h3 class="section">演習問題 2.5 (a)</h3>

   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="UnbalancedSet.complete"><span class="id" title="definition">complete</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.2.BinaryTree.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <a class="idref" href="PFDS.2.BinaryTree.html#complete"><span class="id" title="definition">complete</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">p</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="UnbalancedSet.CompleteWithDepth"><span class="id" title="inductive">CompleteWithDepth</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Tree"><span class="id" title="inductive">Tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.CompleteLeaf"><span class="id" title="constructor">CompleteLeaf</span></a> : <a class="idref" href="PFDS.2.BinaryTree.html#CompleteWithDepth"><span class="id" title="inductive">CompleteWithDepth</span></a> 0 <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.E"><span class="id" title="constructor">E</span></a><br/>
&nbsp;&nbsp;| <a name="UnbalancedSet.CompleteNode"><span class="id" title="constructor">CompleteNode</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="PFDS.2.BinaryTree.html#CompleteWithDepth"><span class="id" title="inductive">CompleteWithDepth</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#CompleteWithDepth"><span class="id" title="inductive">CompleteWithDepth</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#CompleteWithDepth"><span class="id" title="inductive">CompleteWithDepth</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#d"><span class="id" title="variable">d</span></a>) (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="UnbalancedSet.Complete"><span class="id" title="definition">Complete</span></a> (<span class="id" title="var">tree</span> : <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Tree"><span class="id" title="inductive">Tree</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.CompleteWithDepth"><span class="id" title="inductive">CompleteWithDepth</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#tree"><span class="id" title="variable">tree</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="UnbalancedSet.complete_sound"><span class="id" title="lemma">complete_sound</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span>, <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.Complete"><span class="id" title="definition">Complete</span></a> (<a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet.complete"><span class="id" title="definition">complete</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.2.BinaryTree.html#d"><span class="id" title="variable">d</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h3 class="section">演習問題 2.5 (b)</h3>


<div class="paragraph"> </div>

Scalaでかくと
<pre>
def create2(m: Int): (Tree,Tree) =
  if (m == 0) (E, T(E, x, E)) else {
    val (t1, t2) = create2((m-1) / 2)
    if ((m-1) % 2 == 0) {
      (T (t1, x, t1), T(t1, x, t2))
    } else {
      (T (t1, x, t2), T(t2, x, t2))
    }
  }

def create(n: Int) = create2(n)._1
</pre>
   
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="PFDS.2.BinaryTree.html#UnbalancedSet"><span class="id" title="module">UnbalancedSet</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>