<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PFDS.3.LeftistHeap</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle"><img width=50px src=https://images-na.ssl-images-amazon.com/images/I/41XlPaC%2BZqL._SX326_BO1,204,203,200_.jpg /> PFDS.3.LeftistHeap</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Program.Program.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">Program</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Arith.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Strings.String.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">String</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PFDS.common.DecidableOrder.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">PFDS.common.DecidableOrder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PFDS.common.Power.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">PFDS.common.Power</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PFDS.common.Result.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">PFDS.common.Result</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="PFDS.common.Util.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">PFDS.common.Util</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Module</span> <a name="Seed"><span class="id" title="module">Seed</span></a> : <a class="idref" href="PFDS.common.DecidableOrder.html#Seed"><span class="id" title="module">DecidableOrder.Seed</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a name="Elem"><span class="id" title="module">Elem</span></a> := <a class="idref" href="PFDS.common.DecidableOrder.html#Make"><span class="id" title="module">DecidableOrder.Make</span></a>(<a class="idref" href="PFDS.3.LeftistHeap.html#Seed"><span class="id" title="module">Seed</span></a>).<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Elem.Op</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="heap"><span class="id" title="inductive">heap</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a name="E"><span class="id" title="constructor">E</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a><br/>
| <a name="T"><span class="id" title="constructor">T</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="axiom">Elem.T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="HeapForall"><span class="id" title="inductive">HeapForall</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="axiom">Elem.T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="HFE"><span class="id" title="constructor">HFE</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><br/>
| <a name="HFT"><span class="id" title="constructor">HFT</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="var">P</span> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="HeapForall_impl"><span class="id" title="lemma">HeapForall_impl</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">P</span> <span class="id" title="var">Q</span>: <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="axiom">Elem.T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">h</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">Hpq</span> <span class="id" title="var">h</span> <span class="id" title="var">HForallP</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">HForallP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>; [| | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hpq</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="right_spine"><span class="id" title="definition">right_spine</span></a>(<span class="id" title="var">h</span> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">left_</span> <span class="id" title="var">right_</span> ⇒ <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#right_spine"><span class="id" title="definition">right_spine</span></a> <span class="id" title="var">right_</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="calc_rank"><span class="id" title="definition">calc_rank</span></a>(<span class="id" title="var">h</span> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#right_spine"><span class="id" title="definition">right_spine</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rank_T"><span class="id" title="lemma">rank_T</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">left_</span> <span class="id" title="var">right_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a>(<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#left_"><span class="id" title="variable">left_</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#right_"><span class="id" title="variable">right_</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a>(<a class="idref" href="PFDS.3.LeftistHeap.html#right_"><span class="id" title="variable">right_</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="size"><span class="id" title="definition">size</span></a>(<span class="id" title="var">h</span> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> ⇒ 1 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a>(<span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a>(<span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="Leftist"><span class="id" title="inductive">Leftist</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="LeftistE"><span class="id" title="constructor">LeftistE</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><br/>
| <a name="LeftistT"><span class="id" title="constructor">LeftistT</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h2 class="section">Exercise 3.1</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ex3_1_aux"><span class="id" title="lemma">ex3_1_aux</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">t</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> (2 <a class="idref" href="PFDS.common.Power.html#837e9bb42d52cea0f390f032daa434d3"><span class="id" title="notation">^^</span></a> <a class="idref" href="PFDS.common.Power.html#837e9bb42d52cea0f390f032daa434d3"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="PFDS.common.Power.html#837e9bb42d52cea0f390f032daa434d3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span>[| <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">IHa</span> <span class="id" title="var">b</span> <span class="id" title="var">IHb</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="PFDS.3.LeftistHeap.html#rank_T"><span class="id" title="lemma">rank_T</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="var">size</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">HLeftist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cutrewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">)</span></a>); [| <span class="id" title="tactic">ring</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HLeftist</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a0</span> <span class="id" title="var">b0</span> <span class="id" title="var">r0</span> <span class="id" title="var">x0</span> <span class="id" title="var">Hrank</span> <span class="id" title="var">HLa</span> <span class="id" title="var">HLb</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHa</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HLa</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHb</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Le.html#le_trans"><span class="id" title="abbreviation">le_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 (<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">)</span></a>)); [|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Plus.html#plus_le_compat_r"><span class="id" title="lemma">plus_le_compat_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Le.html#le_trans"><span class="id" title="abbreviation">le_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 (<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 (<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <span class="id" title="var">b</span>))); [|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Plus.html#plus_le_compat_l"><span class="id" title="lemma">plus_le_compat_l</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="PFDS.common.Power.html#pow_plus"><span class="id" title="axiom">pow_plus</span></a>. <span class="id" title="tactic">simpl</span> (<a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cutrewrite</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#697e4695610f677ae98a52af81f779d2"><span class="id" title="notation">×</span></a> <a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 (<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 (<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.common.Power.html#pow"><span class="id" title="definition">pow</span></a> 2 (<a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <span class="id" title="var">b</span>)); [|<span class="id" title="tactic">ring</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Plus.html#plus_le_compat_r"><span class="id" title="lemma">plus_le_compat_r</span></a>). <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.common.Power.html#pow_le"><span class="id" title="axiom">pow_le</span></a>; [<span class="id" title="var">now</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">merge関数</h2>

   &gt; どの右スパインの長さもたかだか対数のオーダーであるから、<span class="inlinecode"><span class="id" title="var">merge</span></span>は O(log n) 時間で実行される。 (p.28)
 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab10"></a><h3 class="section">merge関数の実装</h3>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="rank"><span class="id" title="definition">rank</span></a> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">r</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="makeT"><span class="id" title="definition">makeT</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>) (<a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> (1 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> (1 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.funind.Recdef.html#"><span class="id" title="<img width=50px src=https://images-na.ssl-images-amazon.com/images/i/41xlpac%2bzql._sx326_bo1,204,203,200_.jpg />">Recdef</span></a>.<br/>

<br/>
<span class="id" title="keyword">Function</span> <span class="id" title="var">merge</span> <span class="id" title="var">h1_h2</span> {<span class="id" title="keyword">measure</span> (<a class="idref" href="PFDS.common.Util.html#pair_size"><span class="id" title="definition">pair_size</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="var">h1_h2</span>} :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#h1_h2"><span class="id" title="variable">h1_h2</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">h2</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">h2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">h1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">h1</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="PFDS.3.LeftistHeap.html#leq_bool"><span class="id" title="axiom">Elem.leq_bool</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">h2</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">h1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b2</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>. &nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h3 class="section">merge関数の証明</h3>


<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab12"></a><h4 class="section">merge関数でrank関数の健全性が保たれる</h4>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="RankSound"><span class="id" title="inductive">RankSound</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="RSE"><span class="id" title="constructor">RSE</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><br/>
| <a name="RST"><span class="id" title="constructor">RST</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a>(<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#calc_rank"><span class="id" title="definition">calc_rank</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">Hrank</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hrank</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="makeT_rank"><span class="id" title="lemma">makeT_rank</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hranka</span> <span class="id" title="var">Hrankb</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <span class="id" title="var">b</span>) (<a class="idref" href="PFDS.3.LeftistHeap.html#rank"><span class="id" title="definition">rank</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">assumption</span>|]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="PFDS.3.LeftistHeap.html#rank_T"><span class="id" title="lemma">rank_T</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hrankb</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">assumption</span>|]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="PFDS.3.LeftistHeap.html#rank_T"><span class="id" title="lemma">rank_T</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hranka</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_rank"><span class="id" title="lemma">merge_rank</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">h1h2</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>)); [<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h1h2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_ind"><span class="id" title="definition">merge_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hrank1</span> <span class="id" title="var">Hrank2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrank1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrank2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_rank"><span class="id" title="lemma">makeT_rank</span></a>; [<span class="id" title="tactic">assumption</span>|]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hrank1</span> <span class="id" title="var">Hrank2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrank1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrank2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_rank"><span class="id" title="lemma">makeT_rank</span></a>; [<span class="id" title="tactic">assumption</span>|]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h4 class="section">merge関数でLeftist性が保存される</h4>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="makeT_Leftist"><span class="id" title="lemma">makeT_Leftist</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hra</span> <span class="id" title="var">Hrb</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hlb</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [|<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hrb</span>), &lt;- (<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hra</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [|<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Lt.html#lt_le_weak"><span class="id" title="abbreviation">lt_le_weak</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hrb</span>), &lt;- (<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound_eq"><span class="id" title="lemma">RankSound_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hra</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_Leftist"><span class="id" title="lemma">merge_Leftist</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">h1h2</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#RankSound"><span class="id" title="inductive">RankSound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Leftist"><span class="id" title="inductive">Leftist</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1h2"><span class="id" title="variable">h1h2</span></a>)); [<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h1h2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_ind"><span class="id" title="definition">merge_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hr1</span> <span class="id" title="var">Hr2</span> <span class="id" title="var">Hl1</span> <span class="id" title="var">Hl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hr1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hr2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_Leftist"><span class="id" title="lemma">makeT_Leftist</span></a>; [<span class="id" title="tactic">assumption</span>| | <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_rank"><span class="id" title="lemma">merge_rank</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hr1</span> <span class="id" title="var">Hr2</span> <span class="id" title="var">Hl1</span> <span class="id" title="var">Hl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hr1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hr2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_Leftist"><span class="id" title="lemma">makeT_Leftist</span></a>; [<span class="id" title="tactic">assumption</span> | | <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_rank"><span class="id" title="lemma">merge_rank</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h4 class="section">merge関数とHeapForallのいい関係</h4>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="makeT_Forall"><span class="id" title="lemma">makeT_Forall</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_Forall"><span class="id" title="lemma">merge_Forall</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">P</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">cut</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> <span class="id" title="var">P</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#p"><span class="id" title="variable">p</span></a>)); [<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">h1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">h2</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h1h2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_ind"><span class="id" title="definition">merge_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|]. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> | ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|]. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_Forall"><span class="id" title="lemma">makeT_Forall</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">tauto</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_Forall"><span class="id" title="lemma">makeT_Forall</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|]. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab15"></a><h4 class="section">merge関数でヒープとしての性質: 「常にrootノードの値が最小値」を保存することを証明</h4>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="Heap"><span class="id" title="inductive">Heap</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#heap"><span class="id" title="inductive">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="HeapE"><span class="id" title="constructor">HeapE</span></a> : <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><br/>
| <a name="HeapT"><span class="id" title="constructor">HeapT</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">elem</span> ⇒ <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#123bb60e4c698ac709abaf1b01451e1a"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#elem"><span class="id" title="variable">elem</span></a>) (<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="makeT_Heap"><span class="id" title="lemma">makeT_Heap</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">elem</span> ⇒ <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#123bb60e4c698ac709abaf1b01451e1a"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#elem"><span class="id" title="variable">elem</span></a>) <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall"><span class="id" title="inductive">HeapForall</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">elem</span> ⇒ <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.common.TotalOrder.html#123bb60e4c698ac709abaf1b01451e1a"><span class="id" title="notation">≤</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#elem"><span class="id" title="variable">elem</span></a>) <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#makeT"><span class="id" title="definition">makeT</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#b"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_Heap"><span class="id" title="lemma">merge_Heap</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h1"><span class="id" title="variable">h1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#h2"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span>, <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#Heap"><span class="id" title="inductive">Heap</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#p"><span class="id" title="variable">p</span></a>)); [<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">h1h2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_ind"><span class="id" title="definition">merge_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hh1</span> <span class="id" title="var">Hh2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H12</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_Heap"><span class="id" title="axiom">makeT_Heap</span></a>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_Forall"><span class="id" title="lemma">merge_Forall</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall_impl"><span class="id" title="lemma">HeapForall_impl</span></a>; [|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H12</span>]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">elem</span> <span class="id" title="var">Helem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#le_trans"><span class="id" title="axiom">Elem.Ord.le_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">y</span>); [|<span class="id" title="tactic">assumption</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#leq_bool_correct"><span class="id" title="axiom">Elem.leq_bool_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h1_h2</span> <span class="id" title="var">_r1</span> <span class="id" title="var">x</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">_r2</span> <span class="id" title="var">y</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hleq</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hh1</span> <span class="id" title="var">Hh2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H12</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#makeT_Heap"><span class="id" title="axiom">makeT_Heap</span></a>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#merge_Forall"><span class="id" title="lemma">merge_Forall</span></a>. <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="PFDS.3.LeftistHeap.html#leq_bool_correct_inv"><span class="id" title="lemma">Elem.leq_bool_correct_inv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hleq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#not_le_lt"><span class="id" title="lemma">Elem.Ord.not_le_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hleq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#lt_le_incl"><span class="id" title="lemma">Elem.Ord.lt_le_incl</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall_impl"><span class="id" title="lemma">HeapForall_impl</span></a>; [ |<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">elem</span> <span class="id" title="var">Helem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#le_trans"><span class="id" title="axiom">Elem.Ord.le_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="PFDS.3.LeftistHeap.html#HeapForall_impl"><span class="id" title="lemma">HeapForall_impl</span></a>; [ |<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">elem</span> <span class="id" title="var">Helem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="PFDS.3.LeftistHeap.html#le_trans"><span class="id" title="axiom">Elem.Ord.le_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h2 class="section">insert</h2>


<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab17"></a><h3 class="section">insert関数の実装</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="insert"><span class="id" title="definition">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">h</span> := <a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> 1 <a class="idref" href="PFDS.3.LeftistHeap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h2 class="section">findMin</h2>


<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab19"></a><h3 class="section">findMin 関数の実装</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="findMin"><span class="id" title="definition">findMin</span></a> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a> ⇒ <a class="idref" href="PFDS.common.Result.html#Error"><span class="id" title="constructor">Error</span></a> "Empty Heap"<br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="PFDS.common.Result.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab20"></a><h2 class="section">deleteMin</h2>


<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab21"></a><h3 class="section">deleteMin関数の実装</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="deleteMin"><span class="id" title="definition">deleteMin</span></a> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="PFDS.3.LeftistHeap.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#E"><span class="id" title="constructor">E</span></a> ⇒ <a class="idref" href="PFDS.common.Result.html#Error"><span class="id" title="constructor">Error</span></a> "Empty Heap"<br/>
&nbsp;&nbsp;| <a class="idref" href="PFDS.3.LeftistHeap.html#T"><span class="id" title="constructor">T</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="PFDS.common.Result.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="PFDS.3.LeftistHeap.html#merge"><span class="id" title="lemma">merge</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>